var V=(o,t,e)=>{if(!t.has(o))throw TypeError("Cannot "+e)};var l=(o,t,e)=>(V(o,t,"read from private field"),e?e.call(o):t.get(o)),r=(o,t,e)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,e)},x=(o,t,e,n)=>(V(o,t,"write to private field"),n?n.call(o,e):t.set(o,e),e);var d=(o,t,e)=>(V(o,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=e(a);fetch(a.href,s)}})();const it={0:{name:"arcade",price:{monthly:9,yearly:90}},1:{name:"advanced",price:{monthly:12,yearly:120}},2:{name:"pro",price:{monthly:15,yearly:150}}},ct={0:{name:"Online service",price:{monthly:1,yearly:10}},1:{name:"Larger storage",price:{monthly:2,yearly:20}},2:{name:"Customizable profile",price:{monthly:2,yearly:20}}};String.prototype.toCapitalized=function(){return this.split(" ").map(o=>`${o[0].toUpperCase()}${o.slice(1)}`).join(" ")};var q,S,B,v,G,C,U,I,Y,k,Z;class c{static get data(){return l(this,q)}static set data(t){x(this,q,{...t})}static init(){this.data={billing:{option:"monthly",optionAbbreviated:"mo"}}}static changeStep(t){const e=A.dataset.formStep,n=document.querySelector(`[data-step="${e}"]`),a=document.querySelector(`[data-step="${t}"]`);t>e?(d(this,v,G).call(this,n,"scale-down"),d(this,C,U).call(this,a,"slide-in")):(d(this,v,G).call(this,n,"slide-out"),d(this,C,U).call(this,a,"scale-up"));const s=n.offsetHeight,i=a.offsetHeight,u=s>i?s:i;d(this,S,B).call(this,u),A.setAttribute("data-form-step",t),d(this,I,Y).call(this,e,t),d(this,k,Z).call(this,t)}}q=new WeakMap,S=new WeakSet,B=function(t){const e=document.querySelector('[data-js="form-steps"]');if(t==null)t="auto";else{const{paddingTop:n,paddingBottom:a}=getComputedStyle(e);t=`calc(${t}px + ${n} + ${a})`}e.style.setProperty("--steps-height",t)},v=new WeakSet,G=function(t,e){t.classList.add(e),t.addEventListener("animationend",()=>{t.classList.add("hidden"),t.classList.remove(e),d(this,S,B).call(this)},{once:!0})},C=new WeakSet,U=function(t,e){t.classList.remove("hidden"),t.classList.add(e),t.addEventListener("animationend",()=>{t.classList.remove(e)},{once:!0})},I=new WeakSet,Y=function(t,e){if(e==5)return;const n=document.querySelectorAll('[data-js="sidebar-item"]'),a=n[t-1],s=n[e-1];a.classList.remove("active"),s.classList.add("active")},k=new WeakSet,Z=function(t){if(t==5){ot.classList.add("hidden");return}const e=document.querySelector('[data-js="button-next"]'),n=document.querySelector('[data-js="button-confirm"]'),a=document.querySelector('[data-js="button-back"]'),s=e.classList.contains("hidden");if(t!=4&&s){n.classList.add("hidden"),e.classList.remove("hidden");return}if(t==4){e.classList.add("hidden"),n.classList.remove("hidden");return}if(t==2){a.classList.remove("hidden");return}if(t==1){a.classList.add("hidden");return}},r(c,S),r(c,v),r(c,C),r(c,I),r(c,k),r(c,q,{billing:{option:"monthly",optionAbbreviated:"mo"}});var W,X,j,T,P,_,H,tt,w,et,L,K;const N=class{static validate(){let t=!0;return l(this,j).forEach(({input:e,regex:n})=>{t=d(this,w,et).call(this,e,n)?t:!1}),t&&l(this,j).forEach(({input:e})=>{c.data[e.id]=e.value}),t}};let p=N;j=new WeakMap,T=new WeakMap,P=new WeakSet,_=function(){return[{input:document.querySelector('[data-js="input-name"]'),regex:/^([\p{L}]+[,.'-]?)+(\s([\p{L}]+[,.'-]?)+)*$/u},{input:document.querySelector('[data-js="input-email"]'),regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},{input:document.querySelector('[data-js="input-phone"]'),regex:/^\+?1([\.\s-]?\d{3}){2}[\.\s-]?\d{3,4}$/}]},H=new WeakSet,tt=function(){return{required:"This field is required",name:"Enter a valid name",email:"Enter a valid email",phone:"Enter a valid US phone"}},w=new WeakSet,et=function(t,e){const{value:n}=t;if(!n.length)return d(this,L,K).call(this,t,!1,"required"),!1;const a=e.test(n);return d(this,L,K).call(this,t,a,t.name),a},L=new WeakSet,K=function(t,e,n){const s=t.closest('[data-js="field"]').querySelector('[data-js="label-container"]'),i=s.querySelector('[data-js="text-error"]'),u=l(this,T)[n];if(!e&&i){i.textContent=u;return}if(e&&i){t.classList.remove("error"),s.removeChild(i);return}if(!e&&!i){const g=document.querySelector('[data-template="text-error"]').content.firstElementChild.cloneNode(!0);g.textContent=u,t.classList.add("error"),s.appendChild(g)}},r(p,P),r(p,H),r(p,w),r(p,L),r(p,j,d(W=N,P,_).call(W)),r(p,T,d(X=N,H,tt).call(X));var $;class J{static validate(){const e=document.querySelector('[data-js="input-plan"]:checked').closest('[data-js="plan-container"]'),{planId:n}=e.dataset,{price:a,name:s}=l(this,$)[n],{checked:i}=R;c.data.plan={name:s,price:i?a.yearly:a.monthly}}static changePrice(){const t=document.querySelectorAll('[data-js="plan-container"]'),e=document.querySelector('[data-template="yearly-gift"]');t.forEach(n=>{const a=n.querySelector('[data-js="plan-content"]'),s=n.querySelector('[data-js="plan-price"]'),{planId:i}=n.dataset,{price:u}=l(this,$)[i],{option:h,optionAbbreviated:g}=c.data.billing;if(s.textContent=`$${u[h]}/${g}`,h==="yearly"){const b=e.content.firstElementChild.cloneNode(!0);a.appendChild(b)}else{const b=a.querySelector('[data-js="text-gift"]');a.removeChild(b)}})}}$=new WeakMap,r(J,$,it);var O;class Q{static validate(){const t=document.querySelectorAll('[data-js="input-add-on"]:checked'),{option:e}=c.data.billing;c.data.addOns=[],t.forEach(n=>{const a=n.closest('[data-js="add-on-container"]'),{addOnId:s}=a.dataset,{price:i,name:u}=l(this,O)[s];c.data.addOns.push({name:u,price:i[e]})})}static changePrice(){const t=document.querySelectorAll('[data-js="add-on-container"]'),{option:e,optionAbbreviated:n}=c.data.billing;t.forEach(a=>{const s=a.querySelector('[data-js="add-on-price"]'),{addOnId:i}=a.dataset,{price:u}=l(this,O)[i];s.textContent=`+$${u[e]}/${n}`})}}O=new WeakMap,r(Q,O,ct);var m,y,z,at,D,nt,M,st,E,F;class f{static configure(){const{plan:t,addOns:e,billing:n}=c.data,{option:a,optionAbbreviated:s}=n;x(this,y,0),d(this,z,at).call(this,t,a,s),d(this,D,nt).call(this,e,s),d(this,M,st).call(this,a,s)}}m=new WeakMap,y=new WeakMap,z=new WeakSet,at=function({name:t,price:e},n,a){const s=l(this,m).querySelector('[data-js="summary-plan"]'),i=l(this,m).querySelector('[data-js="summary-plan-price"]');d(this,E,F).call(this,e),s.textContent=`${t.toCapitalized()} (${n.toCapitalized()})`,i.textContent=`$${e}/${a}`},D=new WeakSet,nt=function(t,e){const n=l(this,m).querySelector('[data-js="summary-add-ons"]'),a=document.querySelector('[data-template="summary-add-on"]'),s=document.createDocumentFragment();t.forEach(({name:i,price:u})=>{const h=a.content.firstElementChild.cloneNode(!0),g=h.querySelector('[data-js="add-on-name"]'),b=h.querySelector('[data-js="add-on-price"]');d(this,E,F).call(this,u),g.textContent=i,b.textContent=`+$${u}/${e}`,s.appendChild(h)}),n.innerHTML="",n.appendChild(s)},M=new WeakSet,st=function(t,e){const n=l(this,m).querySelector('[data-js="summary-total"]'),a=l(this,m).querySelector('[data-js="summary-total-price"]');c.data.billing.amount=l(this,y),n.textContent=`Total (per ${t.slice(0,t.length-2)})`,a.textContent=`+${l(this,y)}/${e}`},E=new WeakSet,F=function(t){x(this,y,l(this,y)+t)},r(f,z),r(f,D),r(f,M),r(f,E),r(f,m,document.querySelector('[data-js="summary"]')),r(f,y,0);const A=document.querySelector('[data-js="form"]'),ot=document.querySelector('[data-js="form-control"]'),R=document.querySelector('[data-js="input-option"]'),rt=document.querySelector('[data-js="button-change"]');A.addEventListener("submit",dt);ot.addEventListener("click",lt);R.addEventListener("change",ut);rt.addEventListener("click",()=>c.changeStep(2));function dt(o){o.preventDefault()}function lt({target:o}){const t=+A.dataset.formStep;if(o.matches('[data-js="button-back"]')){c.changeStep(t-1);return}if(o.matches('[data-js="button-next"]'))switch(t){case 1:if(!p.validate())return;c.changeStep(2);return;case 2:J.validate(),c.changeStep(3);return;case 3:Q.validate(),f.configure(),c.changeStep(4);return}if(o.matches('[data-js="button-confirm"]')){c.changeStep(5);return}}function ut(){const{checked:o}=R,t=document.querySelector('[data-js="option-label"]'),e=document.querySelector('[data-js="option-monthly"]'),n=document.querySelector('[data-js="option-yearly"]'),a=o?n.id:e.id;c.data.billing={option:o?"yearly":"monthly",optionAbbreviated:o?"yr":"mo"},e.classList.toggle("text--dark"),n.classList.toggle("text--dark"),t.setAttribute("aria-labelledby",a),J.changePrice(),Q.changePrice()}
